# GLWF26 檔案規格說明

## 檔案概述
GLWF26是總帳模組的工作檔，主要用於儲存和管理會計科目的彙總金額資料。此檔案設計用來記錄各會計科目的實際總額和預算總額，為財務報表和管理分析提供簡明的彙總數據。

## 檔案結構
- **檔案名稱**: GLWF26（檔案內部顯示為GLWF16）
- **記錄格式**: GLWF16R
- **參考檔案**: GLRF（總帳模組參考檔案）
- **描述**: 科目彙總金額工作檔

## 檔案命名說明
檔案標題顯示為"GLWF16"但檔案實際路徑為"GLWF26"，這可能表示：
- 此檔案是GLWF16的變體或延伸版本
- 系統演進過程中發生了命名調整
- 兩個檔案共享相同結構但用於不同目的

## 主要功能
- 儲存各會計科目的實際總金額
- 儲存各會計科目的預算總金額
- 支援科目層級的實際與預算比較
- 提供科目彙總資訊以支援財務報表生成

## 欄位結構

| 欄位名稱 | 參考 | 資料類型 | 標題 | 用途說明 |
|---------|------|---------|------|---------|
| WF1601 | AF02 | 參考 | 會計科目 | 會計科目代碼 |
| WF1602 | AH12 | 參考 | 總金額 | 實際發生的總金額 |
| WF1603 | AH12 | 參考 | 總金額 | 預算的總金額 |

## 欄位參考關係
- **WF1601**: 參考會計憑證檔(GLAFPF)的AF02欄位，確保使用有效的會計科目
- **WF1602/WF1603**: 參考會計傳票檔(GLAHPF)的AH12欄位，保持金額格式一致

## 索引結構
- **主索引**: WF1601（會計科目）
  - 按會計科目排序，支援快速查詢特定科目的彙總金額
  - 便於財務報表按科目順序生成數據

## 主要用途
1. **科目彙總報表**：提供各科目的總金額數據
2. **實際與預算比較**：同時儲存實際總額和預算總額，便於對比分析
3. **財務摘要報表**：支援高層管理需要的簡明科目彙總報表
4. **科目績效評估**：通過比較實際與預算金額評估科目績效

## 與其他檔案的關係
- **GLAFPF（會計憑證檔）**: GLWF26引用會計科目代碼，確保資料一致性
- **GLAHPF（會計傳票檔）**: 金額欄位參照會計傳票檔的金額格式
- **GLWF16**: 可能與GLWF16存在功能或結構相似關係
- **GLWF24**: 提供類似的彙總功能，但GLWF26可能專注於不同維度的彙總

## 欄位詳細說明

### WF1601（會計科目）
- 作為主鍵，識別特定會計科目
- 從會計憑證檔(GLAFPF)引用，確保科目代碼的有效性
- 用於關聯其他財務系統中的相關數據

### WF1602（實際總金額）
- 從會計傳票檔(GLAHPF)引用金額格式
- 檔案注釋標示為「實際」，表示此欄位儲存實際發生的總金額
- 用於記錄特定會計科目的實際發生金額總和

### WF1603（預算總金額）
- 從會計傳票檔(GLAHPF)引用金額格式
- 檔案注釋標示為「預算」，表示此欄位儲存計劃或預期的總金額
- 用於記錄特定會計科目的預算金額總和，便於與實際金額比較

## 操作考量
1. **資料彙總流程**：
   - 定期從交易系統彙總數據更新實際總金額
   - 從預算系統提取數據更新預算總金額
   - 確保實際與預算資料的同步更新

2. **報表整合**：
   - 科目代碼需與標準會計科目保持一致
   - 確保與其他財務報表工作檔的數據一致性

3. **資料保鮮度**：
   - 建立定期更新機制，確保總額數據的準確性
   - 在會計期間結轉前後確保數據更新

## 資料流動
1. **資料來源**：
   - 會計傳票系統 → 按科目彙總 → 實際總金額(WF1602)
   - 預算規劃系統 → 按科目彙總 → 預算總金額(WF1603)

2. **資料目的地**：
   - GLWF26數據 → 科目彙總報表
   - GLWF26數據 → 實際與預算比較報表
   - GLWF26數據 → 管理摘要報表

## 系統角色
GLWF26在總帳系統中扮演科目彙總數據管理的角色。它簡化了科目層級財務資訊的獲取，不需查詢大量交易記錄即可獲得科目總額。其設計反映了財務報告中對科目總額的基本需求，並通過實際與預算金額的並列儲存，支援基本的財務分析和績效評估。

## 命名不一致問題處理建議
鑒於檔案內部命名(GLWF16)與外部路徑(GLWF26)的不一致，建議：
1. 系統文檔中明確標註這種關係
2. 在實作時注意引用正確的檔案名稱
3. 長期計劃中考慮統一命名規範 