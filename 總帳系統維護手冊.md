# 總帳系統維護手冊

## 1. 系統概述

### 1.1 系統簡介
總帳系統是一個完整的會計資訊系統，提供會計科目維護、分錄處理、餘額計算、報表產生等功能。本手冊提供系統的日常維護、問題處理和版本更新等相關說明。

### 1.2 系統架構
- 前端：5250終端機介面
- 後端：RPG程式處理
- 資料庫：DB2/400
- 檔案系統：AS/400整合檔案系統

### 1.3 系統模組
- 核心模組 (PCA系列)：處理會計基本作業
- 報表模組 (PCR系列)：產生各類會計報表
- 查詢模組 (PCI系列)：提供資料查詢功能
- 批次模組 (PCB系列)：執行批次處理作業

## 2. 日常維護作業

### 2.1 系統監控
#### 2.1.1 效能監控
- 監控項目：
  * CPU使用率
  * 記憶體使用率
  * 磁碟空間使用率
  * 資料庫效能指標
- 監控頻率：每日
- 監控工具：IBM i Navigator
- 異常處理：
  * CPU使用率 > 80%：檢查是否有異常程式
  * 記憶體使用率 > 90%：檢查記憶體配置
  * 磁碟空間 < 20%：執行資料清理

#### 2.1.2 錯誤監控
- 監控項目：
  * 系統日誌
  * 應用程式日誌
  * 資料庫日誌
  * 網路日誌
- 監控頻率：即時
- 監控工具：IBM i Navigator
- 異常處理：
  * 記錄錯誤訊息
  * 分析錯誤原因
  * 執行錯誤修復
  * 更新錯誤記錄

### 2.2 資料備份
#### 2.2.1 日常備份
- 備份項目：
  * 資料庫檔案
  * 應用程式
  * 系統參數
  * 使用者資料
- 備份頻率：每日
- 備份時間：系統離峰時間
- 備份方式：自動備份
- 備份檢查：
  * 檢查備份日誌
  * 驗證備份資料
  * 測試資料還原

#### 2.2.2 週期備份
- 備份項目：
  * 完整系統備份
  * 歷史資料備份
  * 報表資料備份
  * 系統設定備份
- 備份頻率：每週
- 備份時間：週末
- 備份方式：自動備份
- 備份檢查：
  * 檢查備份完整性
  * 驗證備份資料
  * 測試系統還原

### 2.3 資料清理
#### 2.3.1 日常清理
- 清理項目：
  * 暫存檔案
  * 工作檔案
  * 日誌檔案
  * 報表檔案
- 清理頻率：每日
- 清理時間：系統離峰時間
- 清理方式：自動清理
- 清理檢查：
  * 檢查清理日誌
  * 驗證清理結果
  * 確認系統正常

#### 2.3.2 週期清理
- 清理項目：
  * 歷史資料
  * 過期報表
  * 備份資料
  * 系統日誌
- 清理頻率：每月
- 清理時間：月初
- 清理方式：自動清理
- 清理檢查：
  * 檢查清理日誌
  * 驗證清理結果
  * 確認系統正常

## 3. 問題處理程序

### 3.1 問題診斷
#### 3.1.1 錯誤分析
- 分析步驟：
  1. 收集錯誤訊息
  2. 檢查錯誤日誌
  3. 分析錯誤原因
  4. 確認錯誤影響
- 分析工具：
  * IBM i Navigator
  * 系統日誌
  * 應用程式日誌
- 分析記錄：
  * 錯誤時間
  * 錯誤訊息
  * 錯誤原因
  * 處理方式

#### 3.1.2 效能分析
- 分析步驟：
  1. 收集效能資料
  2. 分析效能瓶頸
  3. 確認效能問題
  4. 提出改善方案
- 分析工具：
  * IBM i Navigator
  * 效能監控工具
  * 資料庫分析工具
- 分析記錄：
  * 效能問題
  * 問題原因
  * 改善方案
  * 執行結果

### 3.2 問題修復
#### 3.2.1 程式修復
- 修復步驟：
  1. 備份相關程式
  2. 修改程式碼
  3. 測試修改結果
  4. 更新程式文件
- 修復工具：
  * RPG/400開發工具
  * 測試工具
  * 文件工具
- 修復記錄：
  * 修改內容
  * 修改原因
  * 測試結果
  * 更新文件

#### 3.2.2 資料修復
- 修復步驟：
  1. 備份相關資料
  2. 執行資料修復
  3. 驗證修復結果
  4. 更新修復記錄
- 修復工具：
  * DB2/400工具
  * 資料修復工具
  * 驗證工具
- 修復記錄：
  * 修復內容
  * 修復原因
  * 驗證結果
  * 更新記錄

### 3.3 問題追蹤
#### 3.3.1 追蹤記錄
- 記錄項目：
  * 問題編號
  * 問題描述
  * 處理過程
  * 處理結果
- 記錄工具：
  * 問題追蹤系統
  * 文件管理系統
- 記錄維護：
  * 定期更新
  * 定期檢查
  * 定期歸檔

#### 3.3.2 問題預防
- 預防措施：
  * 定期檢查
  * 定期維護
  * 定期更新
  * 定期備份
- 預防工具：
  * 監控工具
  * 維護工具
  * 更新工具
- 預防記錄：
  * 預防措施
  * 執行結果
  * 改善建議

## 4. 版本更新程序

### 4.1 更新準備
#### 4.1.1 版本檢查
- 檢查項目：
  * 系統版本
  * 程式版本
  * 資料庫版本
  * 相關軟體版本
- 檢查工具：
  * 版本檢查工具
  * 相容性檢查工具
- 檢查記錄：
  * 檢查結果
  * 更新建議
  * 相容性報告

#### 4.1.2 備份準備
- 備份項目：
  * 系統備份
  * 資料備份
  * 程式備份
  * 參數備份
- 備份工具：
  * 備份工具
  * 還原工具
- 備份記錄：
  * 備份內容
  * 備份時間
  * 備份結果

### 4.2 更新執行
#### 4.2.1 程式更新
- 更新步驟：
  1. 停止相關服務
  2. 備份現有程式
  3. 更新程式碼
  4. 測試更新結果
- 更新工具：
  * 更新工具
  * 測試工具
- 更新記錄：
  * 更新內容
  * 更新時間
  * 更新結果

#### 4.2.2 資料更新
- 更新步驟：
  1. 備份現有資料
  2. 執行資料更新
  3. 驗證更新結果
  4. 更新相關文件
- 更新工具：
  * 資料更新工具
  * 驗證工具
- 更新記錄：
  * 更新內容
  * 更新時間
  * 更新結果

### 4.3 更新驗證
#### 4.3.1 功能驗證
- 驗證項目：
  * 基本功能
  * 進階功能
  * 報表功能
  * 批次功能
- 驗證工具：
  * 測試工具
  * 驗證工具
- 驗證記錄：
  * 驗證項目
  * 驗證結果
  * 問題記錄

#### 4.3.2 效能驗證
- 驗證項目：
  * 系統效能
  * 資料庫效能
  * 網路效能
  * 應用程式效能
- 驗證工具：
  * 效能測試工具
  * 監控工具
- 驗證記錄：
  * 驗證項目
  * 驗證結果
  * 改善建議

## 5. 緊急處理程序

### 5.1 系統當機
#### 5.1.1 當機處理
- 處理步驟：
  1. 記錄當機時間
  2. 收集當機資訊
  3. 分析當機原因
  4. 執行系統重啟
- 處理工具：
  * 系統監控工具
  * 日誌分析工具
- 處理記錄：
  * 當機時間
  * 當機原因
  * 處理方式
  * 處理結果

#### 5.1.2 資料修復
- 修復步驟：
  1. 檢查資料完整性
  2. 執行資料修復
  3. 驗證修復結果
  4. 更新修復記錄
- 修復工具：
  * 資料修復工具
  * 驗證工具
- 修復記錄：
  * 修復內容
  * 修復時間
  * 修復結果

### 5.2 資料異常
#### 5.2.1 異常處理
- 處理步驟：
  1. 確認異常範圍
  2. 備份相關資料
  3. 執行資料修復
  4. 驗證修復結果
- 處理工具：
  * 資料分析工具
  * 修復工具
- 處理記錄：
  * 異常內容
  * 處理方式
  * 處理結果

#### 5.2.2 預防措施
- 預防項目：
  * 定期檢查
  * 定期備份
  * 定期驗證
  * 定期更新
- 預防工具：
  * 監控工具
  * 備份工具
- 預防記錄：
  * 預防措施
  * 執行結果
  * 改善建議

## 6. 維護記錄

### 6.1 日常維護記錄
| 日期 | 維護項目 | 維護內容 | 維護結果 | 維護人員 |
|------|----------|----------|----------|----------|
| YYYY/MM/DD | 系統監控 | 檢查系統效能 | 正常 | [姓名] |
| YYYY/MM/DD | 資料備份 | 執行日常備份 | 成功 | [姓名] |
| YYYY/MM/DD | 資料清理 | 清理暫存檔案 | 完成 | [姓名] |

### 6.2 問題處理記錄
| 日期 | 問題編號 | 問題描述 | 處理方式 | 處理結果 | 處理人員 |
|------|----------|----------|----------|----------|----------|
| YYYY/MM/DD | [編號] | [描述] | [方式] | [結果] | [姓名] |
| YYYY/MM/DD | [編號] | [描述] | [方式] | [結果] | [姓名] |

### 6.3 版本更新記錄
| 日期 | 版本編號 | 更新內容 | 更新結果 | 更新人員 |
|------|----------|----------|----------|----------|
| YYYY/MM/DD | [版本] | [內容] | [結果] | [姓名] |
| YYYY/MM/DD | [版本] | [內容] | [結果] | [姓名] |

## 7. 附錄

### 7.1 常用指令
- 系統監控指令
- 資料備份指令
- 資料清理指令
- 問題診斷指令

### 7.2 錯誤代碼
- 系統錯誤代碼
- 應用程式錯誤代碼
- 資料庫錯誤代碼
- 網路錯誤代碼

### 7.3 聯絡資訊
- 系統維護人員
- 技術支援人員
- 緊急聯絡方式
- 相關部門聯絡方式 