# 人員職務對應檔規格書

## 一、人員職務對應檔 (PA#4PF)
- **檔案說明**：人員職務對應檔
- **用途**：記錄系統人員與職務對應關係資料
- **特性**：UNIQUE屬性，確保對應關係唯一性

## 二、主鍵結構
- 主鍵組合：#401 + #402（人員編號 + 職務編號）

## 三、欄位定義

| 欄位名稱 | 欄位說明 | 長度 | 屬性 | 參考欄位 | 檢核規則 | 備註 |
|---------|---------|------|-----|---------|----------|------|
| #401 | 人員編號 | - | 文字 | ME01 | - | - |
| #402 | 職務編號 | - | 文字 | ME02 | - | - |
| #403 | 年度日期 | - | 文字 | #A0/#A01 (GLFLIB/PT#APF) | - | - |
| #4XX | 異動日期 | 8 | 數值 | #AXX | - | - |
| #4YY | 異動時間 | - | 文字 | #AYY | - | - |
| #4ZZ | 異動者 | - | 文字 | #AZZ | - | - |

## 四、檔案關聯說明

1. **主要關聯**
   - 參考RERF檔案中的定義
   - 與人員主檔相關（#401關聯人員編號）
   - 與職務主檔相關（#402關聯職務編號）
   - 與系統日期資料相關（#403關聯年度日期）
   - 與系統操作記錄相關（#4XX、#4YY、#4ZZ記錄異動資訊）
   - 與PA#1PF、PA#2PF和PA#3PF共同支持系統配置架構

2. **應用場景**
   - 記錄人員與職務的對應關係
   - 支持職務變更時的權限管理
   - 追蹤人員職務異動歷史
   - 協助系統執行權限控制
   - 支援人事管理報表產生

3. **欄位使用重點**
   - #401（人員編號）：識別特定人員
   - #402（職務編號）：識別特定職務
   - #403（年度日期）：記錄職務生效或對應的日期
   - #4XX、#4YY、#4ZZ：記錄資料異動的日期、時間和操作人員，支援稽核追蹤

## 五、特殊說明

1. **檔案用途**
   - 建立人員與職務間的對應關係
   - 支援系統權限管理和控制
   - 提供人員職務查詢基礎
   - 協助系統執行職務相關的作業流程
   - 支援人事管理報表和分析功能

2. **資料維護重點**
   - 確保人員編號和職務編號的正確性
   - 正確設定年度日期，與系統日期定義一致
   - 定期檢視人員職務對應關係，確保符合組織結構
   - 人員職務異動時須及時更新資料
   - 保持異動記錄的完整性，便於追蹤變更

3. **權限管理關聯**
   - 職務編號通常與系統權限設定相關
   - 人員可能具有多種職務及對應權限
   - 職務變更時需考慮系統權限的同步調整
   - 職務可能有階層式關係，影響權限繼承
   - 可能需與組織結構配合，實現完整的權限管理

4. **系統整合考量**
   - 與PA#1PF、PA#2PF、PA#3PF共同構成系統配置基礎架構
   - PA#1PF定義代碼結構，PA#2PF設定參數值，PA#3PF管理廠商年度對應，PA#4PF管理人員職務關係
   - 人員資料變更時，需同步更新相關主檔和對應關係
   - 組織架構調整時，需特別考慮此檔案的資料處理策略
   - 登入驗證和權限檢查可能依賴此檔案判斷人員職務對應關係

5. **UNIQUE標記說明**
   - 檔案設有UNIQUE屬性，確保主鍵組合（人員編號+職務編號）的唯一性
   - 避免同一人員與同一職務有多筆對應記錄造成系統混亂
   - 保證人員職務對應的一致性和可靠性

這份規格書詳細說明了人員職務對應檔的結構和用途。該檔案記錄系統人員與職務的對應關係，透過主鍵「人員編號 + 職務編號」建立唯一識別。此檔案與代碼設定檔(PA#1PF)、參數設定檔(PA#2PF)和廠商年度對應檔(PA#3PF)共同組成系統配置架構，支援人員權限與職務管理相關的業務處理，確保系統能正確處理人員權限和職務資訊。透過適當的維護，可確保人員職務資料的有效管理和使用，支援組織結構變化和權限調整。 