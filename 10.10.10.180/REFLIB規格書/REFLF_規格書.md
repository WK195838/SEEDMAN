
Ran tool

Ran tool

Ran tool

Ran tool
我發現在QDDSSRC_REFLIB目錄中有多個邏輯檔案(LF)，我將讀取其中一些來了解其結構：

Read file: 10.10.10.180/QDDSSRC_REFLIB/WFJL10LF.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/W3ECLF01.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/W3EALF01.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/W2BGLF01.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/W2BGLF02.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/W2BGLF03.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/W2BCLF01.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/W2BELF01.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/W2BELF02.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/W2BDLF01.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/W2BALF04.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/W2BALF05.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/W2BBLF01.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/W2BGPF.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/W2BAPF.txt
現在讓我整理QDDSSRC_REFLIB目錄中的邏輯檔案(LF)規格書：

# QDDSSRC_REFLIB 邏輯檔案(LF)規格書

## 1. WFJL10LF (存檔作業邏輯檔)

**關聯的實體檔**: WFJL10PF (存檔作業主檔)

| 欄位名稱 | 排序方式 | 主鍵順序 |
|---------|--------|--------|
| JL1001 | 升冪 | 1 |
| JL1002 | 升冪 | 2 |
| J1002$ | 升冪 | 3 |
| JL1003 | 升冪 | 4 |
| J1003$ | 升冪 | 5 |
| JL1004 | 升冪 | 6 |
| JL1005 | 升冪 | 7 |
| JL1006 | 升冪 | 8 |
| JL1007 | 升冪 | 9 |
| JL1008 | 升冪 | 10 |
| JL1009 | 升冪 | 11 |
| JL1010 | 升冪 | 12 |
| JL1011 | 升冪 | 13 |

**檢核規則**：無

## 2. W3ECLF01 (商品設定檔邏輯檔)

**關聯的實體檔**: W3ECPF (商品規格設定主檔)

| 欄位名稱 | 排序方式 | 主鍵順序 |
|---------|--------|--------|
| EC01 | 降冪 (DESCEND) | 1 |

**檢核規則**：無

## 3. W3EALF01 (商品外觀設定檔邏輯檔)

**關聯的實體檔**: W3EAPF (商品外觀設定主檔)

| 欄位名稱 | 排序方式 | 主鍵順序 |
|---------|--------|--------|
| EA01 | 降冪 (DESCEND) | 1 |

**檢核規則**：無

## 4. W2BGLF01 (運送託運主檔邏輯檔1)

**關聯的實體檔**: W2BGPF (運送託運主檔)

| 欄位名稱 | 排序方式 | 主鍵順序 |
|---------|--------|--------|
| BG02 | 升冪 | 1 |
| BG01 | 降冪 (DESCEND) | 2 |
| BG03 | 升冪 | 3 |

**實體檔欄位說明**:
- BG01: 建檔日期 (數值型, 8位, 0位小數)
- BG02: 始發點 (文字型, 5位)
- BG03: 託運編號 (文字型, 12位)

**檢核規則**：無

## 5. W2BGLF02 (運送託運主檔邏輯檔2)

**關聯的實體檔**: W2BGPF (運送託運主檔)

| 欄位名稱 | 排序方式 | 主鍵順序 |
|---------|--------|--------|
| BG01 | 升冪 | 1 |
| BG02 | 升冪 | 2 |
| BG06 | 升冪 | 3 |

**實體檔欄位說明**:
- BG01: 建檔日期 (數值型, 8位, 0位小數)
- BG02: 始發點 (文字型, 5位)
- BG06: 建檔編號 (文字型, 12位)

**檢核規則**：無

## 6. W2BGLF03 (運送託運主檔邏輯檔3)

**關聯的實體檔**: W2BGPF (運送託運主檔)

| 欄位名稱 | 排序方式 | 主鍵順序 |
|---------|--------|--------|
| BG06 | 升冪 | 1 |
| BG03 | 升冪 | 2 |

**實體檔欄位說明**:
- BG06: 建檔編號 (文字型, 12位)
- BG03: 託運編號 (文字型, 12位)

**檢核規則**：無

## 7. W2BCLF01 (運送託運關聯邏輯檔)

**關聯的實體檔**: W2BCPF (運送託運關聯檔)

| 欄位名稱 | 排序方式 | 主鍵順序 |
|---------|--------|--------|
| BC02 | 升冪 | 1 |
| BC01 | 降冪 (DESCEND) | 2 |
| BC03 | 升冪 | 3 |

**檢核規則**：無

## 8. W2BCLF02 (運送託運關聯邏輯檔2)

**關聯的實體檔**: W2BCPF (運送託運關聯檔)

## 9. W2BELF01 (運送建檔主檔邏輯檔1)

**關聯的實體檔**: W2BEPF (運送建檔主檔)

| 欄位名稱 | 排序方式 | 主鍵順序 |
|---------|--------|--------|
| BE01 | 降冪 (DESCEND) | 1 |
| BE03 | 升冪 | 2 |
| BE06 | 升冪 | 3 |
| BE02 | 升冪 | 4 |

**檢核規則**：無

## 10. W2BELF02 (運送建檔主檔邏輯檔2)

**關聯的實體檔**: W2BEPF (運送建檔主檔)

| 欄位名稱 | 排序方式 | 主鍵順序 |
|---------|--------|--------|
| BE06 | 升冪 | 1 |
| BE02 | 升冪 | 2 |
| BE01 | 降冪 (DESCEND) | 3 |
| BE03 | 升冪 | 4 |

**檢核規則**：無

## 11. W2BDLF01 (運送託運明細檔邏輯檔)

**關聯的實體檔**: W2BDPF (運送託運明細檔)

| 欄位名稱 | 排序方式 | 主鍵順序 |
|---------|--------|--------|
| BD01 | 升冪 | 1 |
| BD03 | 升冪 | 2 |
| BD02 | 升冪 | 3 |

**檢核規則**：無

## 12. W2BALF04 (運送訂單主檔邏輯檔4)

**關聯的實體檔**: W2BAPF (運送訂單主檔)

| 欄位名稱 | 排序方式 | 主鍵順序 |
|---------|--------|--------|
| BA02 | 升冪 | 1 |
| BA01 | 降冪 (DESCEND) | 2 |
| BA03 | 升冪 | 3 |

**選擇條件**:
- BA05 等於 'E'

**實體檔欄位說明**:
- BA01: 訂單日 (數值型, 8位, 0位小數)
- BA02: 始發點 (文字型, 5位)
- BA03: 訂單編號 (文字型, 12位)
- BA05: 狀態 (文字型, 1位)

**檢核規則**：狀態必須等於 'E'

## 13. W2BALF05 (運送訂單主檔邏輯檔5)

**關聯的實體檔**: W2BAPF (運送訂單主檔)

| 欄位名稱 | 排序方式 | 主鍵順序 | 欄位說明 |
|---------|--------|--------|--------|
| BA11 | 升冪 | 1 | VIP碼-區號 |
| BA12 | 升冪 | 2 | VIP碼-行政 |
| BA01 | 降冪 (DESCEND) | 3 | 訂單日 |
| BA02 | 升冪 | 4 | 始發點 |
| BA03 | 升冪 | 5 | 訂單編號 |

**選擇條件**:
- BA05 等於 'O' 或 'P'

**實體檔欄位說明**:
- BA01: 訂單日 (數值型, 8位, 0位小數)
- BA02: 始發點 (文字型, 5位)
- BA03: 訂單編號 (文字型, 12位)
- BA05: 狀態 (文字型, 1位)
- BA11: VIP碼-區號 (文字型, 15位)
- BA12: VIP碼-行政 (文字型, 5位)

**檢核規則**：狀態必須等於 'O' 或 'P'

## 14. W2BBLF01 (運送訂單明細檔邏輯檔1)

**關聯的實體檔**: W2BBPF (運送訂單明細檔)

| 欄位名稱 | 排序方式 | 主鍵順序 |
|---------|--------|--------|
| BB01 | 升冪 | 1 |
| BB03 | 升冪 | 2 |

**檢核規則**：無

## 15. W2BBLF02 (運送訂單明細檔邏輯檔2)

**關聯的實體檔**: W2BBPF (運送訂單明細檔)

## 16. W2BBLF03 (運送訂單明細檔邏輯檔3)

**關聯的實體檔**: W2BBPF (運送訂單明細檔)

## 17. W2BBLF04 (運送訂單明細檔邏輯檔4)

**關聯的實體檔**: W2BBPF (運送訂單明細檔)

## 邏輯檔案說明

在AS/400系統中，邏輯檔案(LF)是一種不儲存實際資料但提供不同存取路徑的檔案類型，它們通常連結到物理檔案(PF)。邏輯檔案的特點如下：

1. **資料來源**: 邏輯檔案通過PFILE關鍵字指定關聯的物理檔案，如 `PFILE(W2BAPF)`。

2. **存取路徑**: 邏輯檔案定義了一種存取物理檔案資料的路徑，通常是通過定義不同的主鍵順序。

3. **排序方式**:
   - 預設為升冪排序
   - 使用DESCEND關鍵字表示降冪排序

4. **選擇條件**:
   - 使用S關鍵字定義選擇條件，如 `S BA05 COMP(EQ 'E')`，表示只選擇BA05欄位值等於'E'的記錄。

5. **主要用途**:
   - 提供不同的排序順序
   - 只選擇符合特定條件的記錄
   - 提供對物理檔案不同的邏輯視圖
   - 優化特定存取模式的效能

邏輯檔案不會複製物理檔案的資料，而是提供了一種不同的方式來排序和篩選這些資料。當應用程式讀取邏輯檔案時，系統會根據邏輯檔案定義的主鍵和選擇條件來存取物理檔案中的資料。

在QDDSSRC_REFLIB目錄中的邏輯檔案主要為特定物理檔案提供了不同的存取路徑，以滿足各種查詢和報表需求。

我將繼續整理QDDSSRC_REFLIB目錄中的邏輯檔案(LF)規格書，讓我們進一步查看其他邏輯檔案：

Read file: 10.10.10.180/QDDSSRC_REFLIB/W2BBLF02.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/W2BBLF03.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/W2BBLF04.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/W2BBPF.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/WOWELF01.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/WOWELF02.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/WOWELF03.txt
讓我們繼續整理其他邏輯檔案：

## 18. W2BBLF02 (運送訂單明細檔邏輯檔2)

**關聯的實體檔**: W2BBPF (運送訂單明細檔)

| 欄位名稱 | 排序方式 | 主鍵順序 | 欄位說明 |
|---------|--------|--------|--------|
| BB01 | 升冪 | 1 | 訂單編號 |
| BB02 | 升冪 | 2 | 訂單項次 |

**選擇條件**:
- BB09 等於 'O' 或 'B'

**實體檔欄位說明**:
- BB01: 訂單編號 (文字型, 12位)
- BB02: 訂單項次 (數值型, 6位, 0位小數)
- BB09: 狀態 (文字型, 1位)

**檢核規則**：狀態必須等於 'O' 或 'B'

## 19. W2BBLF03 (運送訂單明細檔邏輯檔3)

**關聯的實體檔**: W2BBPF (運送訂單明細檔)

| 欄位名稱 | 排序方式 | 主鍵順序 | 欄位說明 |
|---------|--------|--------|--------|
| BB01 | 升冪 | 1 | 訂單編號 |
| BB02 | 升冪 | 2 | 訂單項次 |
| BB03 | 升冪 | 3 | 商品編號 |

**實體檔欄位說明**:
- BB01: 訂單編號 (文字型, 12位)
- BB02: 訂單項次 (數值型, 6位, 0位小數)
- BB03: 商品編號 (文字型, 9位)

**檢核規則**：無

## 20. W2BBLF04 (運送訂單明細檔邏輯檔4)

**關聯的實體檔**: W2BBPF (運送訂單明細檔)

| 欄位名稱 | 排序方式 | 主鍵順序 | 欄位說明 |
|---------|--------|--------|--------|
| BB03 | 升冪 | 1 | 商品編號 |
| BB01 | 降冪 (DESCEND) | 2 | 訂單編號 |

**實體檔欄位說明**:
- BB01: 訂單編號 (文字型, 12位)
- BB03: 商品編號 (文字型, 9位)

**檢核規則**：無

## 21. WOWELF01 (廠商基本檔案邏輯檔1)

**關聯的實體檔**: WOWEPF (廠商基本檔案)

| 欄位名稱 | 排序方式 | 主鍵順序 | 欄位說明 |
|---------|--------|--------|--------|
| WE07 | 升冪 | 1 | 區號 |
| WE01 | 升冪 | 2 | 廠商編號 |

**實體檔欄位說明**:
- WE01: 廠商編號 (文字型, 5位)
- WE07: 區號 (文字型, 1位)

**檢核規則**：無

## 22. WOWELF02 (廠商基本檔案邏輯檔2)

**關聯的實體檔**: WOWEPF (廠商基本檔案)

| 欄位名稱 | 排序方式 | 主鍵順序 | 欄位說明 |
|---------|--------|--------|--------|
| WE03 | 升冪 | 1 | 廠商簡稱 |

**實體檔欄位說明**:
- WE03: 廠商簡稱 (可變文字型, 18位)

**檢核規則**：無

## 23. WOWELF03 (廠商基本檔案和廠商分類關聯邏輯檔)

**關聯的實體檔**: 
- WOWEPF (廠商基本檔案)
- WOWKPF (廠商分類資料檔)

| 檔案類型 | 記錄格式 | 欄位名稱 | 排序方式 | 主鍵順序 | 欄位說明 |
|---------|--------|---------|--------|--------|--------|
| WOWEPF | WE0 | WE03 | 升冪 | 1 | 廠商簡稱 |
| WOWKPF | WK0 | WK02 | 升冪 | 1 | 廠商簡稱 |

**欄位重新命名**:
- WE01 重新命名為 WK01 (廠商編號)
- WE03 重新命名為 WK02 (廠商簡稱)

**檢核規則**：無

這個邏輯檔案比較特殊，它關聯了兩個實體檔案，並將WOWEPF的廠商編號(WE01)和廠商簡稱(WE03)重新命名為WOWKPF的對應欄位WK01和WK02。

讓我繼續查找其他邏輯檔案：

Ran tool

Read file: 10.10.10.180/QDDSSRC_REFLIB/WFJL10LF.txt

Read file: 10.10.10.180/QDDSSRC_REFLIB/WFJL10PF.txt
現在讓我們繼續整理QDDSSRC_REFLIB目錄中的邏輯檔案(LF)規格書，包括前面已整理的與其他重要的邏輯檔案：

# QDDSSRC_REFLIB 邏輯檔案(LF)規格書(續)

## 24. WFJL10LF (存檔作業邏輯檔)

**關聯的實體檔**: WFJL10PF (存檔作業主檔)

| 欄位名稱 | 排序方式 | 主鍵順序 | 欄位說明 | 欄位長度 | 屬性 |
|---------|--------|--------|--------|--------|------|
| JL1001 | 升冪 | 1 | 確認日期 | 8 | 數值(0位小數) |
| JL1002 | 升冪 | 2 | 區域組 | - | 參考GLRF.AH01 |
| J1002$ | 升冪 | 3 | 處理別 | 1 | A (文字) |
| JL1003 | 升冪 | 4 | 登記組 | 1 | A (文字) |
| J1003$ | 升冪 | 5 | 時段組 | 1 | A (文字) |
| JL1004 | 升冪 | 6 | 會計年度 | - | 參考GLRF.AH04 |
| JL1005 | 升冪 | 7 | 會計期間 | - | 參考GLRF.AH05 |
| JL1006 | 升冪 | 8 | 摘要組 | - | 參考GLRF.AH06 |
| JL1007 | 升冪 | 9 | 明細科目碼 | - | 參考GLRF.AH07 |
| JL1008 | 升冪 | 10 | 明細碼次項 | - | 參考GLRF.AH08 |
| JL1009 | 升冪 | 11 | 部門 | - | 參考GLRF.AH09 |
| JL1010 | 升冪 | 12 | 數量 | - | 參考GLRF.AH14 |
| JL1011 | 升冪 | 13 | 單位 | - | 參考GLRF.AH15 |

**實體檔其他欄位**:
- JL1012: 本月金額 (數值型, 11位, 2位小數)
- JL1013: 年度金額 (數值型, 11位, 2位小數)

**檢核規則**：無

## 處理別(J1002$)說明：
- '1' = 總帳
- '2' = 總分類帳
- '3' = 現金

## 登記組(JL1003)說明：
- '1' = 訂單輸入OR進貨登記
- '2' = 訂單輸出

## 時段組(J1003$)說明：
- '1' = 日間
- '2' = 夜間

這是一個典型的AS/400 DDS邏輯檔案(LF)定義範例，其指定了一系列排序欄位，使資料可以按照這種順序被檢索。它沒有選擇條件，所以包含了所有原始物理檔案中的資料。

總結一下我們在QDDSSRC_REFLIB目錄中找到的邏輯檔案的特性：

1. **用途**：邏輯檔案主要用於提供不同的資料存取路徑，以支援特定的查詢需求或業務流程。

2. **結構**：
   - 通過PFILE關鍵字指定關聯的物理檔案
   - 使用R定義記錄格式，通常與物理檔案的記錄格式同名
   - 使用K定義主鍵欄位，可以與物理檔案的主鍵不同
   - 有些邏輯檔案甚至關聯到多個物理檔案

3. **排序方式**：
   - 預設為升冪排序
   - 使用DESCEND關鍵字指定降冪排序

4. **選擇條件**：
   - 使用S關鍵字定義選擇條件，如`S BA05 COMP(EQ 'E')`
   - 有些邏輯檔案有多個選擇條件，使用邏輯OR關係(如`S BB09 COMP(EQ 'O')` 和 `S BB09 COMP(EQ 'B')`)

5. **性能考慮**：
   - 邏輯檔案為應用程式提供了優化的資料存取路徑
   - 根據不同的查詢模式設計不同的邏輯檔案可以提高系統效能

在QDDSSRC_REFLIB目錄中，我們發現了多種類型的邏輯檔案，它們針對不同的業務需求定義了不同的存取路徑，例如：

- 按區號和廠商編號排序的廠商資料存取(WOWELF01)
- 按廠商簡稱排序的廠商資料存取(WOWELF02)
- 按特定狀態(如訂單狀態)篩選的訂單資料存取(W2BALF05)
- 將多個相關檔案組合在一起的複合視圖(WOWELF03)

邏輯檔案是AS/400系統中重要的資料庫優化工具，它們可以顯著改善應用程式的效能，尤其是在需要特定排序或篩選條件的查詢操作中。
