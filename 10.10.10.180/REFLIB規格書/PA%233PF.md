# 廠商年度對應檔規格書

## 一、廠商年度對應檔 (PA#3PF)
- **檔案說明**：廠商年度對應檔
- **用途**：記錄廠商與年度相關配置資訊
- **特性**：UNIQUE屬性，確保對應關係唯一性

## 二、修改歷史

| 修改代碼 | 日期 | 說明 |
|---------|------|------|
| | | 無修改記錄 |

## 三、主鍵結構
- 主鍵：#301（廠商編號）
- 註：原設計可能包含#302作為複合主鍵的一部分，但目前僅使用#301作為主鍵

## 四、欄位定義

| 欄位名稱 | 欄位說明 | 長度 | 屬性 | 參考欄位 | 檢核規則 | 備註 |
|---------|---------|------|-----|---------|----------|------|
| #301 | 廠商編號 | - | 文字 | MD01 | - | - |
| #302 | 年度編號 | - | 文字 | MA10 | - | - |
| #3XX | 異動日期 | 8 | 數值 | #AXX | - | - |
| #3YY | 異動時間 | - | 文字 | #AYY | - | - |
| #3ZZ | 異動者 | - | 文字 | #AZZ | - | - |

## 五、檔案關聯說明

1. **主要關聯**
   - 參考RERF檔案中的定義
   - 與廠商主檔相關（#301關聯廠商編號）
   - 與年度主檔相關（#302關聯年度編號）
   - 與系統操作記錄相關（#3XX、#3YY、#3ZZ記錄異動資訊）
   - 與PA#1PF和PA#2PF共同支持系統配置架構

2. **應用場景**
   - 記錄特定廠商與年度的關聯設定
   - 支持年度切換時的廠商資料處理
   - 追蹤廠商年度對應資料的維護歷史
   - 協助系統執行年度性處理作業
   - 支援廠商年度報表產生

3. **欄位使用重點**
   - #301（廠商編號）：識別特定廠商
   - #302（年度編號）：關聯特定年度
   - #3XX、#3YY、#3ZZ：記錄資料異動的日期、時間和操作人員，支援稽核追蹤

## 六、特殊說明

1. **檔案用途**
   - 建立廠商與年度間的對應關係
   - 支援系統年度性資料處理和轉換
   - 提供廠商年度資料查詢基礎
   - 協助系統執行年度相關的作業流程
   - 支援廠商年度報表和分析功能

2. **資料維護重點**
   - 確保廠商編號的正確性和唯一性
   - 正確設定年度編號，與系統年度定義一致
   - 定期檢視廠商年度對應關係，確保符合業務需求
   - 年度轉換時須特別注意資料的維護更新
   - 保持異動記錄的完整性，便於追蹤變更

3. **主鍵結構說明**
   - 目前僅使用#301（廠商編號）作為主鍵
   - 原始程式碼中有#302（年度編號）作為可能的複合主鍵部分，但已被註解
   - 這表示每個廠商在系統中只能有一筆記錄，不論年度為何
   - 若業務需求變更，可能需要調整為複合主鍵以支援一個廠商對應多個年度的情況

4. **系統整合考量**
   - 與PA#1PF、PA#2PF共同構成系統配置基礎架構
   - PA#1PF定義代碼結構，PA#2PF設定參數值，PA#3PF管理廠商年度對應
   - 廠商資料變更時，需同步更新相關主檔和對應關係
   - 年度轉換作業時，需特別考慮此檔案的資料處理策略
   - 自動化作業可能依賴此檔案判斷廠商年度對應關係

5. **UNIQUE標記說明**
   - 檔案設有UNIQUE屬性，確保廠商編號的唯一性
   - 避免同一廠商有多筆對應記錄造成系統混亂
   - 保證廠商年度對應的一致性和可靠性

這份規格書詳細說明了廠商年度對應檔的結構和用途。該檔案記錄廠商與年度的對應關係，透過主鍵「廠商編號」建立唯一識別。此檔案與代碼設定檔(PA#1PF)和參數設定檔(PA#2PF)共同組成系統配置架構，支援廠商年度相關的業務處理，確保系統能正確處理不同年度的廠商資料。透過適當的維護，可確保廠商資料在不同年度間的有效管理和使用。 