# 代碼設定檔規格書

## 一、代碼設定檔 (PA#1PF)
- **檔案說明**：代碼設定檔
- **用途**：記錄系統各類代碼定義資料
- **特性**：UNIQUE屬性，確保代碼唯一性

## 二、主鍵結構
- 主鍵：#101（代碼類型）

## 三、欄位定義

| 欄位名稱 | 欄位說明 | 長度 | 屬性 | 參考欄位 | 檢核規則 | 備註 |
|---------|---------|------|-----|---------|----------|------|
| #101 | 代碼類型 | - | 文字 | - | - | - |
| #102 | 代碼簡稱 | - | 文字 | - | - | - |
| #103 | 代碼表一行數 | - | 文字 | - | - | - |
| #104 | 代碼表列印 | - | 文字 | - | - | - |
| #105 | 代碼長度 | - | 文字 | - | - | - |
| #106 | 代碼內容長度 | - | 文字 | - | - | - |
| #107 | 可修改旗標 | - | 文字 | - | VALUES('Y' 'N') | Y-可自由修改<br>N-系統代碼不可自由修改 |

## 四、檔案關聯說明

1. **主要關聯**
   - 參考RERF檔案中的定義
   - 與系統各模組廣泛關聯
   - 提供系統代碼表定義
   - 與PA#2PF（參數設定檔）互補，共同支援系統配置
   - 定義了系統中各類代碼的基本特性

2. **應用場景**
   - 定義系統各模組使用的代碼結構
   - 控制代碼維護與顯示方式
   - 設定代碼允許修改的權限
   - 支援代碼列表產生
   - 協助系統介面與報表顯示

3. **欄位使用重點**
   - #101（代碼類型）：系統中的代碼類型識別
   - #102（代碼簡稱）：用於顯示代碼類型的簡短名稱
   - #103-#104：控制代碼表的顯示格式和列印方式
   - #105-#106：限制代碼和代碼內容的長度規範
   - #107（可修改旗標）：控制使用者是否可以修改該類型的代碼

## 五、特殊說明

1. **檔案用途**
   - 定義系統中各類代碼的基本結構與規範
   - 提供代碼維護的控制機制
   - 協助系統實現一致的代碼管理
   - 支援使用者介面中的代碼輸入與顯示
   - 確保系統代碼的完整性與正確性

2. **資料維護重點**
   - 確保代碼類型的唯一性
   - 設定適當的代碼長度限制，避免資料不一致
   - 謹慎設定可修改旗標，防止關鍵系統代碼被誤改
   - 合理規劃代碼表的顯示格式，提升使用便利性
   - 新增代碼類型時考慮與現有系統的兼容性

3. **與PA#2PF的關係**
   - PA#1PF定義代碼類型的特性，如長度、可修改性等
   - PA#2PF定義參數類型與參數值
   - 兩者共同構成系統的基礎配置層
   - PA#1PF專注於代碼結構定義，PA#2PF專注於參數值設定
   - 系統通常先參考PA#1PF確定代碼結構，再根據PA#2PF獲取參數值

4. **代碼可修改性說明**
   - 當#107設為'Y'時，表示該類代碼可由使用者維護
   - 當#107設為'N'時，表示該類代碼為系統固定代碼，不允許一般使用者修改
   - 系統重要代碼通常設為不可修改，以確保系統穩定運行
   - 業務相關代碼通常設為可修改，以適應業務變化需求

5. **UNIQUE標記說明**
   - 檔案設有UNIQUE屬性，確保代碼類型的唯一性
   - 避免重複代碼類型造成系統混亂
   - 保證代碼管理的一致性和可靠性

這份規格書詳細說明了代碼設定檔的結構和用途。該檔案作為系統代碼定義的核心元件，記錄了各類代碼的結構特性，透過主鍵「代碼類型」建立唯一識別。此檔案與參數設定檔(PA#2PF)互相配合，共同構成系統的基礎配置架構，提供各模組所需的代碼定義，控制系統中代碼的維護和使用規範，確保系統的一致性和穩定性。 