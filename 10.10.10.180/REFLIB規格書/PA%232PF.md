# 參數設定檔規格書

## 一、參數設定檔 (PA#2PF)
- **檔案說明**：參數設定檔
- **用途**：記錄系統各類參數設定資料
- **特性**：UNIQUE屬性，確保參數唯一性

## 二、主鍵結構
- 主鍵組合：#201 + #202（參數類別 + 參數）

## 三、欄位定義

| 欄位名稱 | 欄位說明 | 長度 | 屬性 | 參考欄位 | 檢核規則 | 備註 |
|---------|---------|------|-----|---------|----------|------|
| #201 | 參數類別 | - | 文字 | - | - | S-銷貨客戶<br>D-報關行<br>I-進口商<br>等 |
| #202 | 參數 | - | 文字 | - | - | - |
| #203 | 參數名稱 | - | 文字 | - | - | - |
| #204 | 顯示旗標 | - | 文字 | - | - | Y-參數查詢時，顯示該項<br>N-不顯示 |
| #205 | 連結參數 | - | 文字 | - | - | 帳款參數時，連結參數填入同類型其他參數之參數值<br>非帳款參數時，連結參數填入供讀取之參數值 |
| #206 | 帳款參數 | - | 文字 | - | VALUES('Y' 'N') | Y-表示參數為帳款相關 |
| #207 | 帳款連結客戶檔 | - | 文字 | - | VALUES('Y' 'N') | - |
| #208 | 帳款連結報關行 | - | 文字 | - | VALUES('Y' 'N') | - |
| #209 | 帳款連結發票 | - | 文字 | - | VALUES('Y' 'N') | - |
| #210 | 允許跨期發票 | - | 文字 | - | VALUES('Y' 'N') | - |
| #211 | 允許進貨轉庫存 | - | 文字 | - | VALUES('Y' 'N') | - |
| #212 | 允許出貨轉可用 | - | 文字 | - | VALUES('Y' 'N') | - |
| #213 | 允許貨物 | - | 文字 | - | VALUES('Y' 'N') | - |
| #214 | 允許成本 | - | 文字 | - | VALUES('Y' 'N') | - |
| #215 | 允許關稅 | - | 文字 | - | VALUES('Y' 'N') | - |
| #216 | 允許稅額 | - | 文字 | - | VALUES('Y' 'N') | - |
| #217 | 允許進貨檔 | - | 文字 | - | VALUES('Y' 'N') | - |
| #218 | 進貨轉加號 | - | 文字 | - | VALUES('+' '-' ' ') | - |
| #219 | 報關轉加號 | - | 文字 | - | VALUES('+' '-' ' ') | - |
| #220 | 庫存連結帳款 | - | 文字 | - | VALUES('Y' 'N' ' ') | Y-計算庫存量<br>N-計算更新庫存 |
| #221 | 庫存異動 | - | 文字 | - | VALUES('Y' 'N' ' ') | - |

## 四、檔案關聯說明

1. **主要關聯**
   - 參考RERF檔案中的定義
   - 與系統各模組廣泛關聯
   - 提供各業務流程所需的參數設定
   - 與客戶檔、報關行檔、發票檔等各種主檔相關聯
   - 影響系統行為與業務處理邏輯

2. **參數類別說明**
   - S類：銷貨客戶相關參數
   - D類：報關行相關參數
   - I類：進口商相關參數
   - 其他類別：依系統實際需求定義

3. **欄位分組與使用重點**
   - 識別類：#201（參數類別）、#202（參數）、#203（參數名稱）
   - 顯示控制：#204（顯示旗標）
   - 關聯類：#205（連結參數）
   - 帳款相關：#206（帳款參數）、#207~#209（帳款連結）
   - 允許權限類：#210~#217（各種允許旗標）
   - 轉換類：#218（進貨轉加號）、#219（報關轉加號）
   - 庫存類：#220（庫存連結帳款）、#221（庫存異動）

## 五、特殊說明

1. **檔案用途**
   - 提供系統各功能模組所需的參數資訊
   - 控制系統行為和業務處理邏輯
   - 支援帳款、庫存、進出口等各業務流程
   - 提供系統彈性設定能力
   - 確保各類業務處理的一致性和準確性

2. **資料維護重點**
   - 確保參數類別和參數值的唯一性
   - 正確設定各種允許旗標，避免權限錯誤
   - 連結參數的正確維護，確保系統流程順暢
   - 定期檢視參數設定，確保符合最新業務需求
   - 參數修改須謹慎，可能影響多個系統功能

3. **帳款參數說明**
   - 當#206（帳款參數）為Y時，表示該參數用於帳款相關功能
   - 可透過#207~#209設定帳款與客戶檔、報關行、發票的連結關係
   - 帳款參數的設定會影響財務報表和帳款處理流程

4. **庫存參數說明**
   - #211~#217控制庫存相關操作許可
   - #218、#219控制進出貨對庫存的加減方向
   - #220、#221控制庫存計算方式和異動機制
   - 庫存參數的設定會直接影響庫存數量計算和報表結果

5. **UNIQUE標記說明**
   - 檔案設有UNIQUE屬性，確保主鍵組合（參數類別+參數）的唯一性
   - 避免重複參數造成系統運行錯誤
   - 保證參數設定的一致性和穩定性

這份規格書詳細說明了參數設定檔的結構和用途。該檔案是系統的核心配置元件，記錄了各類參數設定，透過主鍵「參數類別 + 參數」建立唯一識別。此檔案在系統運行中扮演關鍵角色，提供各模組所需的設定資訊，控制系統行為和業務流程，確保系統按照預期的方式運作。透過適當的參數配置，系統可以靈活適應不同的業務需求和處理邏輯。 