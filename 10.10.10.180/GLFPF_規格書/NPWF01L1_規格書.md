# NPWF01L1 檔案規格書

## 基本資訊
- 檔案名稱: NPWF01L1
- 檔案類型: 邏輯檔案 (LF)
- 來源目錄: QDDSSRC_GLFLIB
- 檔案說明: A&P內部作業各部門與預算/實支工作檔的邏輯檔案

## 紀錄格式
- 紀錄格式名稱: WF010
- 實體檔案: NPWF01 (A&P內部作業各部門與預算/實支工作檔)
- 存取路徑: 基於指定的鍵值欄位

## 主鍵資訊
邏輯檔案採用以下欄位作為主鍵：
1. WF0101 (部門別)
2. WF0102 (年度)
3. WF0103 (支出類別)
4. WF0104 (年度代號)
5. WF0105 (A&P CODE)

## 欄位繼承
此邏輯檔案繼承NPWF01的所有欄位，包括：

| 欄位名稱 | 參考欄位 | 資料型態 | 欄位長度 | 欄位說明 | 備註 |
|---------|---------|---------|---------|---------|------|
| WF0101 | ND01 | 字元 | 2 | 部門別 | 識別部門的代碼 |
| WF0102 | ND02 | 數值 | 4 | 年度 | 會計年度代碼 |
| WF0103 | ND03 | 字元 | 2 | 支出類別 | 10=固定資產, 20=員工福利, 30=銷售費 |
| WF0104 | ND04 | 字元 | 2 | 年度代號 | 99=跨年度支出 |
| WF0105 | ND05 | 字元 | 3 | A&P CODE | A&P費用代碼 |
| WF0106 | ND051 | 字元 | 1 | A&P CODE第一碼 | A&P費用代碼的首字 |
| WF0107 | - | 字元 | 2 | 作業負責人 | M001版本新增欄位 |
| WF0108 | - | 字元 | 1 | 負責人代碼 | M001版本新增欄位 |
| WF0110 | ND06B | 數值 | - | 預算金額 | 預算總額 |
| WF0111 | ND06B | 數值 | - | 內部核銷 | 內部已核銷的金額 |
| WF0112 | ND06B | 數值 | - | 外部核銷 | 外部已核銷的金額 |
| WF0113 | ND06B | 數值 | - | 請購金額 | M002版本新增欄位 |

## NPWF01L1與NPWF01的主鍵差異
值得注意的是，NPWF01L1與其實體檔案NPWF01的主鍵定義有所不同：
- NPWF01L1: 使用5個欄位作為主鍵
- NPWF01: 使用7個欄位作為主鍵，包含了M001版本新增的WF0107和WF0108欄位

這種差異可能表示：
1. NPWF01L1邏輯檔案創建時間早於NPWF01的M001修改版本
2. NPWF01L1為特定查詢目的而設計，不需要包含負責人相關欄位作為主鍵

## 檔案用途
此邏輯檔案主要用於：
1. 提供基於部門、年度、支出類別、年度代號和A&P CODE的快速查詢
2. 簡化系統中對NPWF01資料的存取，不需要考慮負責人相關欄位
3. 支援不需要考慮負責人欄位的特定報表和查詢功能
4. 與原始NPWF01檔案相比，提供更簡化的索引結構

## 相關檔案
- NPWF01: 實體工作檔案，此邏輯檔案的基礎
- NPRF: A&P系統參考欄位定義檔
- NPNDPF: 年度A&P預算與實支檔案，為NPWF01的主要參考檔案

## 備註
- 此邏輯檔案提供了一種不同於實體檔案的存取路徑
- 由於不包含M001版本新增的負責人欄位作為主鍵，當需要忽略負責人區分時，可使用此邏輯檔案
- 雖然存取路徑不同，但仍然可以訪問所有從NPWF01繼承的欄位
- 在查詢時，使用此邏輯檔案可能比使用實體檔案更有效率，尤其是當查詢條件不涉及負責人欄位時 