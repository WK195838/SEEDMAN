# GLAWF03 檔案規格書

## 基本資訊
- 檔案名稱: GLAWF03
- 檔案類型: 實體檔案 (PF)
- 來源目錄: QDDSSRC_GLFLIB
- 檔案說明: 預算與實際支出暫存檔

## 紀錄格式
- 紀錄格式名稱: GLWF03R
- 參考檔案: NPRF
- 特性: UNIQUE (唯一索引)

## 欄位規格
| 欄位名稱 | 欄位說明 | 資料類型 | 長度 | 備註 |
|---------|---------|---------|------|------|
| WF0301 | 年期 | A | 2 | 記錄年度識別 |
| WF0302 | A&P CODE | A | 3 | 會計與預算代碼 |
| WF0306 | A&P CODE第一字 | A | 1 | A&P CODE的第一個字元 |
| WF0307 | 部門 | A | 2 | 部門識別碼 |
| WF0303 | 預算金額 | R | - | 參考ND06B欄位，BUDBE |
| WF0304 | 實際金額 | R | - | 參考ND06B欄位，ACTUAL |
| WF0305 | 承諾金額 | R | - | 參考ND06B欄位，COMMITMENT |

## 主鍵欄位
- WF0307 (部門)
- WF0301 (年期)
- WF0306 (A&P CODE第一字)
- WF0302 (A&P CODE)

## 索引資訊
按照以下順序建立索引：
1. 部門 (WF0307)
2. 年期 (WF0301)
3. A&P CODE第一字 (WF0306)
4. A&P CODE (WF0302)

## 程式設計說明
```
A*****************************************************************
A*          預算實支暫存檔(GLWF03)   KEY=WF0301-WF0308
A*****************************************************************
A                                      REF(NPRF)
A                                      UNIQUE
A          R GLWF03R
A            WF0301         2A         COLHDG('年期')
A            WF0302         3A         COLHDG('A&P CODE')
A            WF0306         1A         COLHDG('A&P CODE第一字')
A            WF0307         2A         COLHDG('部門')
A            WF0303    R               COLHDG('BUDBE')
A                                      REFFLD(ND06B)
A            WF0304    R               COLHDG('ACTUAL')
A                                      REFFLD(ND06B)
A            WF0305    R               COLHDG('COMMITMENT')
A                                      REFFLD(ND06B)
A*
A          K WF0307
A          K WF0301
A          K WF0306
A          K WF0302
```

## 備註
- 本檔案規格書根據QDDSSRC_GLFLIB/GLAWF03.txt檔案內容產生
- 原始檔案中的中文顯示有編碼問題，欄位說明是根據欄位名稱和系統用途推測
- 原始檔案註解表示主鍵為WF0301-WF0308，但實際索引僅設定WF0307、WF0301、WF0306、WF0302四個欄位
- 檔案設計特點：
  1. UNIQUE特性確保記錄的唯一性，防止重複資料
  2. 使用REF(NPRF)參考預算系統欄位定義，確保資料一致性
  3. 金額欄位(WF0303-WF0305)均參考自ND06B，表示與預算系統(NPRF)金額欄位相容
  4. 索引設計先以部門(WF0307)為第一排序，方便部門級的財務分析
  5. A&P CODE第一字(WF0306)用於分類不同類型的會計與預算代碼
- 此工作檔案主要用途：
  1. 臨時儲存預算、實際支出和承諾金額的資訊
  2. 支援預算對比分析報表生成
  3. 比較預算與實際支出間的差異
  4. 提供按部門、年期和會計代碼的多維度分析支援
  5. 作為預算控制和財務分析的工作區域
- 與GLAWF01和GLAWF02不同，此檔案著重於預算管理而非薪資處理
- 此檔案是臨時性工作檔案，資料可能在分析報表生成後被清空 