# PCWF01 檔案規格書

## 基本資訊
- 檔案名稱: PCWF01
- 檔案類型: 工作檔案 (Work File)
- 來源目錄: QDDSSRC_GLFLIB
- 檔案說明: 催收工作處理檔案

## 紀錄格式
- 紀錄格式名稱: CA0
- 參考檔案: PCCAPF (催收資料檔)

## 欄位規格
| 欄位名稱 | 參考欄位 | 資料型態 | 欄位長度 | 欄位說明 | 備註 |
|---------|---------|---------|---------|---------|------|
| CA01 | 參考PCCAPF | 字元 | - | 部門別 | 識別部門的代碼 |
| CA02 | 參考PCCAPF | 字元 | 9 | 催收資料編號 | 格式：C-X-XXXX-XXX (C-處理步-西元年-流水號) |
| CA03 | 參考PCCAPF | 字元 | - | 年度 | 會計年度 |
| CA04 | 參考PCCAPF | 字元 | - | 會計期間 | 會計期間識別 |
| CA04L | - | 字元 | 4 | 會計期間前兩碼 | 會計期間的前綴部分 |
| CA05 | 參考PCCAPF | 字元 | - | 供應商代號 | 供應商識別碼 |
| CA05L | - | 字元 | 3 | 供應商代號前三碼 | 供應商前綴部分 |
| CA05A | 參考PCCAPF | 字元 | - | 性質代碼 | 供應商性質分類 |
| CA06 | 參考PCCAPF | 字元 | - | 客戶代號 | 客戶識別碼 |
| CA06A | 參考PCCAPF | 字元 | - | 性質代碼 | 客戶性質分類 |
| CA07 | 參考PCCAPF | 字元 | - | 會計科目1 | 主要會計科目 |
| CA07A | 參考PCCAPF | 字元 | - | 性質代碼 | 科目性質分類 |
| CA08 | 參考PCCAPF | 字元 | - | 會計科目2 | 次要會計科目 |
| CA08A | 參考PCCAPF | 字元 | - | 性質代碼 | 科目性質分類 |
| CA09 | 參考PCCAPF | 字元 | - | 幣別 | 交易幣別 |
| CA09A | 參考PCCAPF | 字元 | - | 性質代碼 | 幣別性質分類 |
| CA10 | 參考PCCAPF | 日期 | - | 入帳日期 | 入帳處理日期 |
| CA11 | 參考PCCAPF | 日期 | - | 到期日期 | 催收款項到期日 |
| CA12 | 參考PCCAPF | 數值 | - | 催收金額 | 需要催收的金額 |
| CA13 | 參考PCCAPF | 數值 | - | 到期金額 | 已到期應收的金額 |
| CA14 | 參考PCCAPF | 數值 | - | 數量 | 相關交易數量 |
| CA14A | 參考PCCAPF | 字元 | - | 性質代碼 | 數量性質分類 |
| CA15 | 參考PCCAPF | 字元 | - | 其他 | 其他相關資訊 |
| CA15A | 參考PCCAPF | 字元 | - | 性質代碼 | 其他資訊分類 |
| CA16 | 參考PCCAPF | 字元 | - | 備註 | 催收相關備註說明 |
| CA17 | 參考PCCAPF | 字元 | 1 | 處理步 | 催收處理階段代碼 |
| CA18 | 參考PCCAPF | 字元 | - | 沖帳旗標 | 沖帳狀態代碼 |
| CA20 | 參考PCCAPF | 字元 | - | 作廢旗標 | 作廢狀態代碼 |
| CA25 | 參考PCCAPF | 日期 | - | 最後更新日期 | 資料更新日期 |
| CA26 | 參考PCCAPF | 字元 | - | 最後更新者工作 | 最後更新者工作識別 |
| CA28 | 參考PCCAPF | 字元 | 6 | 催收人員代號 | 負責催收的員工代號 |
| CA29 | 參考PCCAPF | 日期 | - | 建檔日期 | 催收資料建立日期 |
| CA97 | 參考PCCAPF | 時間戳 | - | 建立時間 | 記錄建立時間 |
| CA98 | 參考PCCAPF | 日期 | - | 建立日期 | 記錄建立日期 |
| CA99 | 參考PCCAPF | 字元 | - | 建立者 | 記錄建立者識別碼 |

## 工作檔案特性
PCWF01作為工作檔案，具有以下特性：
1. 檔案結構基於PCCAPF (催收資料檔)，但增加了兩個特殊欄位：
   - CA04L: 會計期間前兩碼，用於快速分類和篩選特定會計期間
   - CA05L: 供應商代號前三碼，用於供應商群組分類和查詢

2. 臨時性質：此檔案主要用於催收處理過程中的暫存和中間處理，不作為長期儲存資料的檔案

3. 目的性強：專為催收處理流程設計，支援特定的催收作業需求

## 檔案用途與功能
PCWF01作為催收工作檔案，主要用途包括：
1. 催收資料的臨時處理和計算
2. 催收報表的資料準備和整理
3. 催收批次處理的中間暫存
4. 催收查詢介面的資料來源

## 沖帳和作廢機制
檔案包含沖帳和作廢機制的處理：
1. **沖帳旗標 (CA18)**
   - 'V': 已沖帳
   - '*': 曾過沖帳但復原後又變為未沖帳
   - ' ': 未沖帳

2. **作廢旗標 (CA20)**
   - 'V': 已作廢
   - ' ': 未作廢

## 與其他檔案的關係
PCWF01在催收系統中具有以下關係：
1. 與PCCAPF的密切關係：
   - 繼承PCCAPF的所有欄位結構
   - 作為PCCAPF資料的工作副本

2. 與其他催收檔案的關聯：
   - 使用PCCBPF的流水號機制
   - 可能參考PCCCPF中的標準備註
   - 與PCCDPF和PCCEPF提供的催收方式和活動相關聯

## 處理流程中的角色
在催收處理流程中，PCWF01扮演以下角色：
1. 資料準備階段：從PCCAPF載入需要處理的催收資料
2. 資料處理階段：進行臨時計算和分類
3. 資料輸出階段：產生報表或更新PCCAPF

## 備註
- 此工作檔案不需建立索引，因為其臨時性質和特定用途
- 新增的CA04L和CA05L欄位便於程式處理時進行分類和篩選
- 沖帳和作廢機制與PCCAPF保持一致，確保業務邏輯的連貫性
- 此檔案的設計反映了催收處理過程中需要額外的工作資料結構
- 檔案在使用完畢後通常會被清除，不會長期保留資料 