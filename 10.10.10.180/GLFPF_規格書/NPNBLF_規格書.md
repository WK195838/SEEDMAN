# NPNBLF 檔案規格書

## 基本資訊
- 檔案名稱: NPNBLF
- 檔案類型: 邏輯檔案 (LF)
- 來源目錄: QDDSSRC_GLFLIB
- 檔案說明: A&P會計憑證檔案的邏輯視圖

## 紀錄格式
- 紀錄格式名稱: NB0
- 實體檔案: NPNBPF (A&P會計憑證檔案)
- 存取路徑: REFACCPTH(NPNBPF)

## 欄位規格
| 欄位名稱 | 參考欄位 | 資料型態 | 欄位長度 | 欄位說明 | 備註 |
|---------|---------|---------|---------|---------|------|
| NB01 | AA01 | 字元 | 2 | 部門別 | 識別部門的代碼 |
| NB02 | AF02 | 字元 | 8 | 會計憑證 | 會計憑證的識別碼 |
| NB97 | AA97 | 時間戳記 | 6 | 建立時間 | 記錄建立的時間 |
| NB98 | AA98 | 日期 | 8 | 建立日期 | 記錄建立的日期 |
| NB99 | AA99 | 字元 | 10 | 建立者 | 記錄建立者的識別碼 |

## 索引資訊
檔案的索引鍵包含以下欄位:
1. NB01 (部門別)
2. NB02 (會計憑證)

## 特殊欄位說明
1. NB01 (部門別): 
   - 從NPNBPF的NB01欄位取得
   - 參照GLRF中的AA01欄位定義，長度為2個字元
   - 用於識別不同部門的會計憑證記錄

2. NB02 (會計憑證):
   - 從NPNBPF的NB02欄位取得
   - 參照GLRF中的AF02欄位定義，長度為8個字元
   - 會計憑證的唯一識別碼

3. NB97 (建立時間):
   - 從NPNBPF的NB97欄位取得
   - 參照GLRF中的AA97欄位定義，格式為6位數的時間戳記
   - 記錄建立的時間，追蹤記錄的時間點

4. NB98 (建立日期):
   - 從NPNBPF的NB98欄位取得
   - 參照GLRF中的AA98欄位定義，格式為8位數的日期
   - 記錄建立的日期，追蹤記錄的日期

5. NB99 (建立者):
   - 從NPNBPF的NB99欄位取得
   - 參照GLRF中的AA99欄位定義，長度為10個字元
   - 記錄建立者的識別碼，追蹤誰創建了該記錄

## 檢核規則
1. 主索引鍵規則:
   - NB01 + NB02 組合必須唯一
   - 不允許重複的會計憑證記錄

2. 欄位檢核:
   - NB01 (部門別) 必須是有效的部門代碼
   - NB02 (會計憑證) 必須是有效的會計憑證識別碼

## 相關檔案
- NPNBPF: 實體檔案，提供NPNBLF的資料來源
- NPRF: 參考欄位定義檔，提供欄位的詳細資料型態和長度
- GLRF: 提供參考欄位(AA01, AF02等)的定義

## 備註
- 本檔案規格書根據QDDSSRC_GLFLIB/NPNBLF.txt檔案內容產生
- NPNBLF是NPNBPF(A&P會計憑證檔案)的邏輯視圖，提供額外的存取路徑
- 邏輯檔案繼承實體檔案的所有欄位，但可以提供不同的索引或篩選條件
- 此邏輯檔案可能用於A&P(Accounts Payable)相關的會計作業，例如應付帳款處理
- 邏輯檔案通常用於優化特定查詢或報表的效能，或提供特定業務操作所需的資料視圖 