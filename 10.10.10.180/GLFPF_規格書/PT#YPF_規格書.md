# PT#YPF 檔案規格書

## 基本資訊
- 檔案名稱: PT#YPF
- 檔案類型: 物理檔案 (PF)
- 來源目錄: QDDSSRC_GLFLIB
- 檔案說明: 代碼基本資料檔案
- 唯一性: UNIQUE (不允許重複記錄)

## 紀錄格式
- 紀錄格式名稱: #Y0
- 參考檔案: PTRF (基礎參考欄位定義檔)

## 欄位規格
| 欄位名稱 | 參考欄位 | 資料型態 | 欄位長度 | 欄位說明 | 備註 |
|---------|---------|---------|---------|---------|------|
| #Y01 | 參考PTRF | 字元 | - | 代碼種類 | 代碼類別識別碼 |
| #Y02 | 參考PTRF | 字元 | - | 代碼編號 | 各類別下的代碼識別 |
| #Y03 | 參考PTRF | 字元 | - | 代碼名稱 | 代碼對應的名稱說明 |
| #Y04 | 參考PTRF | 字元 | - | 使用者操作 | 代碼是否允許使用者操作 |
| #Y97 | 參考PTRF | 時間戳 | - | 建立時間 | 記錄建立時間 |
| #Y98 | 參考PTRF | 日期 | - | 建立日期 | 記錄建立日期 |
| #Y99 | 參考PTRF | 字元 | - | 建立人員 | 記錄建立者識別碼 |

## 主鍵資訊
檔案採用以下欄位作為複合主鍵：
1. #Y01 (代碼種類)
2. #Y02 (代碼編號)

## 特殊欄位說明
### 1. 代碼種類 (#Y01)
代碼種類欄位用於區分不同類型的代碼，如：
- 付款方式代碼
- 交易類型代碼
- 狀態類型代碼
- 幣別代碼
- 作業類型代碼
- 其他系統定義的代碼類型

### 2. 代碼編號 (#Y02)
代碼編號欄位是在特定代碼種類下的識別符，與代碼種類共同構成唯一識別。

### 3. 使用者操作 (#Y04)
使用者操作欄位標識此代碼是否允許一般使用者進行編輯或新增：
- 'Y': 允許使用者操作 - 使用者可以新增、修改或刪除此代碼
- 其他值: 系統保留代碼 - 僅系統管理員可維護，一般使用者不可變更

## 檔案用途與功能
PT#YPF作為代碼基本資料檔案，主要用途包括：
1. 統一管理系統中使用的各類代碼
2. 提供代碼與其名稱/說明的對應關係
3. 支援系統下拉選單、選項清單等功能的資料來源
4. 區分系統預設代碼與使用者自訂代碼
5. 作為外部報表和介面中代碼轉換的參考資料

## 與其他檔案的關係
PT#YPF在付款系統中具有以下關係：
1. 作為各模組引用代碼的主要來源，如付款方式、幣別等
2. 為付款交易檔案中的代碼欄位提供有效值
3. 支援交易處理及報表產生時的代碼檢核與轉換
4. 提供使用者介面中選單、下拉框等控制項所需的選項資料

## 業務應用
此檔案在業務上的應用包括：
1. 系統設定：維護系統可用的各類代碼設定
2. 使用者自訂：特定類型代碼允許使用者自行新增與維護
3. 代碼查詢：提供代碼含義的快速查詢功能
4. 代碼轉換：在資料處理及報表產生時將代碼轉換為對應名稱
5. 系統檢核：作為資料輸入和匯入時的有效值檢核依據

## 維護管理
代碼基本資料的維護管理重點：
1. 系統預設代碼：由系統管理員維護，確保核心功能使用的代碼正確
2. 使用者自訂代碼：允許使用者依需求擴充特定類別的代碼
3. 代碼整合：確保不同模組間使用的代碼定義一致
4. 代碼變更：評估代碼變更對系統各功能模組的影響

## 備註
- 此檔案採用UNIQUE屬性，確保每組代碼種類和代碼編號的組合只有一筆記錄
- 系統預設代碼與使用者自訂代碼透過#Y04欄位區分管理權限
- 作為系統基礎設定資料，此檔案的維護對系統功能正常運作至關重要
- 各類代碼的新增和變更應考慮其對現有資料和功能的相容性 