# GLWF24 檔案規格說明

## 檔案概述
GLWF24是總帳模組的工作檔，用於儲存和處理資產負債表的數據。此檔案設計用來記錄不同會計科目在不同期間的實際金額和預算金額，以支援資產負債表的生成和分析功能。

## 檔案結構
- **檔案名稱**: GLWF24
- **記錄格式**: GLWF24R
- **參考檔案**: GLRF（總帳模組參考檔案）
- **描述**: 資產負債表工作檔

## 主要功能
- 儲存資產負債表各科目的實際金額數據
- 儲存資產負債表各科目的預算金額數據
- 支援跨期間的資產負債表比較分析
- 提供資產負債表報表生成所需的數據結構

## 欄位結構

| 欄位名稱 | 參考 | 資料類型 | 標題 | 用途說明 |
|---------|------|---------|------|---------|
| WF1401 | - | 數字(3,0) | 項次 | 資產負債表項目的順序編號 |
| WF1402 | AF02 | 參考 | 會計科目 | 會計科目代碼 |
| WF1404 | AS10 | 參考 | 科目名稱 | 會計科目的名稱 |
| WF1405-WF1411 | AH12 | 參考 | 金額一至金額七 | 實際金額（不同期間或分類） |
| WF1415-WF1421 | AH12 | 參考 | 金額一至金額七 | 預算金額（不同期間或分類） |

## 欄位參考關係
- **WF1402**: 參考會計憑證檔(GLAFPF)的AF02欄位，確保使用有效的會計科目
- **WF1404**: 參考科目基準表(GLADPF)的AS10欄位，提供科目名稱
- **WF1405-WF1411, WF1415-WF1421**: 參考會計傳票檔(GLAHPF)的AH12欄位，使用相同的金額格式

## 索引結構
- **複合主索引**: WF1401, WF1402
  - 按項次和會計科目排序，確保報表能按預定順序顯示各科目
  - 支援快速檢索特定項目的實際和預算金額數據

## 主要用途
1. **資產負債表生成**：提供生成資產負債表所需的所有數據
2. **實際與預算比較**：同時儲存實際金額和預算金額，便於比較分析
3. **期間對比分析**：多個金額欄位支援不同期間的對比分析
4. **財務狀況監控**：通過項次排序提供結構化的財務狀況視圖

## 與其他檔案的關係
- **GLAFPF（會計憑證檔）**: GLWF24引用會計科目代碼，確保資料一致性
- **GLADPF（科目基準表）**: 引用科目名稱，確保顯示的科目信息準確
- **GLAHPF（會計傳票檔）**: 金額欄位參照會計傳票檔的金額格式
- **GLWF14**: 可能與GLWF14存在功能互補關係，共同支援資產負債表相關功能

## 欄位詳細說明

### WF1401（項次）
- 作為主索引的一部分，決定資產負債表項目的顯示順序
- 3位數字格式，允許詳細的順序安排
- 確保資產負債表能按照標準會計科目排列順序展示

### WF1402（會計科目）
- 儲存會計科目代碼，與會計憑證檔(GLAFPF)的科目代碼保持一致
- 作為主索引的一部分，與項次共同唯一標識每條記錄
- 用於關聯其他財務系統中的相關數據

### WF1404（科目名稱）
- 從科目基準表(GLADPF)引用科目名稱，確保顯示的一致性
- 提供報表顯示時的可讀性，無需再次查詢科目基準表

### 實際金額欄位（WF1405-WF1411）
- 七個金額欄位，可能代表不同的會計期間或不同的金額分類
- 檔案注釋標示為「實際」，表示這些欄位儲存實際發生的金額
- 從會計傳票檔(GLAHPF)參照金額格式，確保數據格式一致

### 預算金額欄位（WF1415-WF1421）
- 對應實際金額欄位的預算數據
- 檔案注釋標示為「預算」，表示這些欄位儲存計劃或預期的金額
- 與實際金額欄位結構一致，便於進行實際與預算的對比分析

## 操作考量
1. **資料加載流程**：
   - 定期從源系統提取數據並更新GLWF24
   - 確保實際金額和預算金額的同步更新

2. **報表整合**：
   - 正確設置項次編號以確保資產負債表的標準格式
   - 確保金額欄位的用途定義明確，避免混淆

3. **資料保鮮度**：
   - 建立定期更新機制，確保數據的及時性
   - 特別是在會計期間結轉前後確保數據更新

## 資料流動
1. **資料來源**：
   - 會計傳票系統 → 按科目彙總 → 實際金額欄位(WF1405-WF1411)
   - 預算規劃系統 → 按科目彙總 → 預算金額欄位(WF1415-WF1421)

2. **資料目的地**：
   - GLWF24數據 → 資產負債表報表
   - GLWF24數據 → 實際與預算比較報表
   - GLWF24數據 → 財務狀況分析

## 特殊處理說明
1. **多欄位金額的用途定義**：
   - 系統實施時需明確定義各金額欄位代表的具體期間或分類
   - 建議建立欄位使用的標準文檔，確保報表生成時的一致性

2. **項次管理**：
   - 項次編號需按照標準會計科目在資產負債表中的順序設置
   - 隨著會計制度變更，可能需要調整項次編號

## 系統角色
GLWF24在總帳系統中扮演資產負債表數據處理的關鍵角色。它通過結構化的方式儲存不同科目的實際和預算金額，支援多期間的對比分析，為財務分析和決策提供重要依據。此檔案的設計反映了資產負債表對於財務報告的重要性，並通過詳細的結構設計確保了報表生成的準確性和一致性。 