# PT#ZPF 檔案規格書

## 基本資訊
- 檔案名稱: PT#ZPF
- 檔案類型: 物理檔案 (PF)
- 來源目錄: QDDSSRC_GLFLIB
- 檔案說明: 代碼群組資料檔案
- 唯一性: UNIQUE (不允許重複記錄)

## 紀錄格式
- 紀錄格式名稱: #Z0
- 參考檔案: PTRF (基礎參考欄位定義檔)

## 欄位規格
| 欄位名稱 | 參考欄位 | 資料型態 | 欄位長度 | 欄位說明 | 備註 |
|---------|---------|---------|---------|---------|------|
| #Z01 | 參考PTRF | 字元 | - | 代碼種類 | 代碼群組識別碼 |
| #Z02 | 參考PTRF | 字元 | - | 代碼名稱 | 代碼群組名稱 |
| #Z03 | 參考PTRF | 字元 | - | 代碼說明 | 群組詳細描述 |
| #Z04 | 參考PTRF | 字元 | - | 群組屬性 | 代碼群組特性 |
| #Z05 | 參考PTRF | 字元 | - | 使用者操作 | 代碼群組是否允許使用者操作 |
| #Z97 | 參考PTRF | 時間戳 | - | 建立時間 | 記錄建立時間 |
| #Z98 | 參考PTRF | 日期 | - | 建立日期 | 記錄建立日期 |
| #Z99 | 參考PTRF | 字元 | - | 建立人員 | 記錄建立者識別碼 |

## 主鍵資訊
檔案採用以下欄位作為主鍵：
1. #Z01 (代碼種類)

## 特殊欄位說明
### 1. 代碼種類 (#Z01)
代碼種類欄位是代碼群組的唯一識別符，用於定義各類代碼的群組類別，如：
- 付款相關代碼群組
- 交易類型代碼群組
- 狀態類型代碼群組
- 幣別代碼群組
- 作業類型代碼群組

### 2. 群組屬性 (#Z04)
群組屬性欄位用於定義代碼群組的特性或行為規則，可能包含：
- 代碼編號格式規則
- 代碼使用範圍限制
- 數據驗證規則
- 顯示順序控制
- 其他系統處理邏輯

### 3. 使用者操作 (#Z05)
使用者操作欄位標識此代碼群組是否允許一般使用者進行編輯或新增：
- 'Y': 允許使用者操作 - 使用者可以新增、修改或刪除此群組下的代碼
- 其他值: 系統保留群組 - 僅系統管理員可維護，一般使用者不可變更群組內代碼

## 檔案用途與功能
PT#ZPF作為代碼群組資料檔案，主要用途包括：
1. 定義系統中代碼的群組類別
2. 管理各代碼群組的屬性及操作權限
3. 提供代碼群組的說明及使用規則
4. 與PT#YPF(代碼基本資料檔案)配合使用，形成完整的代碼管理架構
5. 支援系統分類顯示及管理各類型代碼

## 與其他檔案的關係
PT#ZPF在代碼管理系統中具有以下關係：
1. 與PT#YPF(代碼基本資料檔案)的關聯：PT#ZPF.#Z01與PT#YPF.#Y01形成一對多關係
2. 作為代碼管理的上層結構，定義代碼的分類架構
3. 提供系統界面中代碼管理功能的群組顯示及操作依據
4. 與系統其他模組的關聯：為各功能模組提供代碼群組管理機制

## 業務應用
此檔案在業務上的應用包括：
1. 代碼管理：定義代碼的分類架構及管理規則
2. 系統設定：維護系統可用的代碼群組
3. 權限控制：定義各代碼群組的使用者操作權限
4. 代碼擴展：支援系統功能擴展時新增代碼群組
5. 資料維護：為代碼資料提供結構化的維護機制

## 維護管理
代碼群組資料的維護管理重點：
1. 群組定義：清楚定義各代碼群組的用途及範圍
2. 屬性設定：根據業務需求設定群組屬性
3. 權限管理：明確區分系統代碼群組與使用者可操作群組
4. 擴展維護：系統擴展時評估新增代碼群組的必要性
5. 一致性管理：確保代碼群組與實際使用代碼的一致性

## 備註
- 此檔案採用UNIQUE屬性，確保每個代碼種類只有一筆群組定義記錄
- PT#ZPF與PT#YPF共同構成系統代碼管理架構，前者定義群組，後者儲存實際代碼
- 新增代碼群組時應考慮系統現有功能及未來擴展需求
- 代碼群組的變更可能影響系統各功能模組的運作，應謹慎評估
- 使用者操作權限(#Z05)與PT#YPF中的使用者操作(#Y04)需保持邏輯一致性 