# PTRF 檔案規格書

## 基本資訊
- 檔案名稱: PTRF
- 檔案類型: 參考欄位定義檔 (Reference Field)
- 來源目錄: QDDSSRC_GLFLIB
- 檔案說明: 付款系統基礎參考欄位定義檔
- 用途: 定義各物理檔案和邏輯檔案共用的欄位結構

## 系統檔案參考對照
| 序號 | 檔案名稱 | 檔案說明 | 主鍵欄位 |
|-----|---------|----------|---------|
| 01 | PT#APF | 付款帳戶基本資料 | #A01 |
| 02 | PT#BPF | 銀行基本資料檔 | #B01 |
| 03 | PT#CPF | 客戶基本資料檔 | #C01+#C02 |
| 04 | PT#DPF | 供應商基本資料檔 | #D01+#D02 |
| 05 | PT#EPF | 員工基本資料檔 | #E01+#E02 |
| 06 | PT#FPF | 客戶額度管理檔 | #F01+#F02 |
| 07 | PT#GPF | 供應商額度管理檔 | #G01+#G02 |
| 24 | PT#XPF | 參數基本資料檔 | #X01+#X02 |
| 25 | PT#YPF | 代碼基本資料檔 | #Y01+#Y02 |
| 26 | PT#ZPF | 代碼群組資料檔 | #Z01 |

## 欄位結構定義

### PT#APF 付款帳戶基本資料
| 欄位名稱 | 資料型態 | 欄位長度 | 欄位說明 | 備註 |
|---------|---------|---------|---------|------|
| #A01 | 字元 | 6 | 帳戶編號 | 主鍵 |
| #A02 | 字元 | 14 | 付款銀行號 | 選填 |
| #A03 | 字元 | 14 | 收款銀行號 | 選填 |
| #A04 | 字元 | 12 | 主帳電話 | - |
| #A05 | 數值 | 3,0 | 信用額度 | 小數點0位 |
| #A06 | 字元 | 1 | 功能別 | '1'-管理, '2'-預算, '3'-發票, '4'-匯款 |
| #A07 | 字元 | 62 | 所在位置 | 選填 |
| #A08 | 字元 | 12 | 電傳號碼 | - |
| #A09 | 字元 | 12 | 傳真號碼 | - |
| #A10 | 字元 | 1 | 幣別 | '1'-本幣, '2'-外幣 |
| #A11 | 字元 | 1 | 性質 | 對外使用的帳戶性質 |
| #A97 | 時間戳 | 6,0 | 建立時間 | - |
| #A98 | 日期 | 8,0 | 建立日期 | - |
| #A99 | 字元 | 10 | 建立人員 | - |

### PT#BPF 銀行基本資料檔
| 欄位名稱 | 資料型態 | 欄位長度 | 欄位說明 | 備註 |
|---------|---------|---------|---------|------|
| #B01 | 字元 | 2 | 銀行編號 | 主鍵 |
| #B02 | 字元 | 12 | 銀行代號 | 選填 |
| #B03 | 字元 | 32 | 銀行中文名稱 | 選填 |
| #B04 | 字元 | 8 | 統一編號 | - |
| #B05 | 字元 | 10 | 總行編號 | - |
| #B06 | 字元 | 12 | 銀行電話一 | - |
| #B07 | 字元 | 12 | 銀行電話二 | - |
| #B08 | 字元 | 12 | 業務電話一 | - |
| #B09 | 字元 | 12 | 業務電話二 | - |
| #B10 | 字元 | 62 | 銀行地址 | 選填 |
| #B11 | 字元 | 62 | 業務地址 | 選填 |
| #B12 | 字元 | 1 | 幣別 | '1'-本幣, '2'-外幣 |
| #B13 | 字元 | 14 | 資金調撥聯絡人 | 選填 |
| #B14 | 字元 | 4 | 資金調撥分機號碼 | - |
| #B15 | 字元 | 32 | 銀行分行名稱 | 選填 |
| #B16 | 字元 | 32 | 銀行英文名稱第一行 | 選填 |
| #B17 | 字元 | 32 | 銀行分行名稱第二行 | 選填 |
| #B97 | 時間戳 | - | 建立時間 | 參考#A97 |
| #B98 | 日期 | - | 建立日期 | 參考#A98 |
| #B99 | 字元 | - | 建立人員 | 參考#A99 |

### PT#CPF 客戶基本資料檔
| 欄位名稱 | 資料型態 | 欄位長度 | 欄位說明 | 備註 |
|---------|---------|---------|---------|------|
| #C01 | 字元 | - | 公司別 | 參考#B01, 主鍵1 |
| #C02 | 字元 | 10 | 客戶編號 | 主鍵2 |
| #C03 | 字元 | 10 | 客戶代號 | 選填 |
| #C04 | 字元 | 42 | 客戶名稱 | 選填 |
| #C05 | 字元 | 62 | 發票地址 | 選填 |
| #C06 | 字元 | - | 送貨地址 | 參考#C05 |
| #C07 | 字元 | 14 | 負責人 | 選填 |
| #C08 | 字元 | - | 連絡人一 | 參考#C07 |
| #C09 | 字元 | 15 | 電話一 | - |
| #C10 | 字元 | - | 連絡人二 | 參考#C07 |
| #C11 | 字元 | - | 電話二 | 參考#C09 |
| #C12 | 字元 | - | 傳真號碼 | 參考#C09 |
| #C13 | 字元 | 1 | 內外部別 | '1'-內部, '2'-外部 |
| #C14 | 字元 | 8 | 付款條件代碼 | - |
| #C21 | 字元 | 8 | 統一編號 | - |
| #C22 | 字元 | - | 總客戶編號 | 參考#C02 |
| #C23 | 字元 | 10 | 業務員編號 | - |
| #C24 | 數值 | 2,0 | 帳齡期限 | - |
| #C90 | 字元 | 62 | 備註 | 選填 |
| #C97 | 時間戳 | - | 建立時間 | 參考#A97 |
| #C98 | 日期 | - | 建立日期 | 參考#A98 |
| #C99 | 字元 | - | 建立人員 | 參考#A99 |

### PT#DPF 供應商基本資料檔
| 欄位名稱 | 資料型態 | 欄位長度 | 欄位說明 | 備註 |
|---------|---------|---------|---------|------|
| #D01 | 字元 | - | 公司別 | 參考#B01, 主鍵1 |
| #D02 | 字元 | - | 供應商編號 | 參考#C02, 主鍵2 |
| #D03 | 字元 | - | 供應商代號 | 參考#C03 |
| #D04 | 字元 | - | 供應商名稱 | 參考#C04 |
| #D05 | 字元 | - | 供應商地址一 | 參考#C05 |
| #D06 | 字元 | - | 供應商地址二 | 參考#C05 |
| #D07 | 字元 | - | 負責人 | 參考#C07 |
| #D08 | 字元 | - | 連絡人一 | 參考#C07 |
| #D09 | 字元 | - | 電話一 | 參考#C09 |
| #D10 | 字元 | - | 連絡人二 | 參考#C07 |
| #D11 | 字元 | - | 電話二 | 參考#C09 |
| #D12 | 字元 | - | 傳真號碼 | 參考#C09 |
| #D13 | 字元 | - | 內外部別 | 參考#C13 |
| #D14 | 字元 | - | 付款條件代碼 | 參考#C14 |
| #D15 | 數值 | 3,0 | 預付款扣抵金額 | - |
| #D90 | 字元 | - | 備註 | 參考#C90 |
| #D97 | 時間戳 | - | 建立時間 | 參考#A97 |
| #D98 | 日期 | - | 建立日期 | 參考#A98 |
| #D99 | 字元 | - | 建立人員 | 參考#A99 |

### PT#EPF 員工基本資料檔
| 欄位名稱 | 資料型態 | 欄位長度 | 欄位說明 | 備註 |
|---------|---------|---------|---------|------|
| #E01 | 字元 | - | 公司別 | 參考#B01, 主鍵1 |
| #E02 | 字元 | 10 | 員工編號 | 主鍵2 |
| #E03 | 字元 | - | 員工姓名 | 參考#C07 |
| #E04 | 字元 | 20 | 英文姓名 | - |
| #E05 | 字元 | 2 | 部門 | - |
| #E06 | 字元 | 11 | 身分證號碼 | - |
| #E07 | 字元 | 1 | 性別 | 'F'-女, 'M'-男 |
| #E08 | 數值 | 8,0 | 出生日期 | - |
| #E09 | 字元 | - | 通訊地址 | 參考#C05 |
| #E10 | 字元 | - | 戶籍地址 | 參考#C05 |
| #E11 | 字元 | - | 通訊電話 | 參考#C09 |
| #E12 | 字元 | - | 戶籍電話 | 參考#C09 |
| #E13 | 字元 | - | 緊急連絡人 | 參考#C07 |
| #E14 | 字元 | - | 緊急連絡人電話 | 參考#C07 |
| #E90 | 字元 | - | 備註 | 參考#C90 |
| #E97 | 時間戳 | - | 建立時間 | 參考#A97 |
| #E98 | 日期 | - | 建立日期 | 參考#A98 |
| #E99 | 字元 | - | 建立人員 | 參考#A99 |

### PT#FPF 客戶額度管理檔
| 欄位名稱 | 資料型態 | 欄位長度 | 欄位說明 | 備註 |
|---------|---------|---------|---------|------|
| #F01 | 字元 | - | 公司別 | 參考#B01, 主鍵1 |
| #F02 | 字元 | - | 客戶編號 | 參考#C02, 主鍵2 |
| #F03 | 數值 | 9,0 | 未收帳款金額 | - |
| #F04 | 數值 | - | 已開發票金額 | 參考#F03 |
| #F05 | 數值 | - | 已付訂金金額 | 參考#F03 |
| #F06 | 數值 | - | 扣留款項總額 | 參考#F03 |
| #F97 | 時間戳 | - | 建立時間 | 參考#A97 |
| #F98 | 日期 | - | 建立日期 | 參考#A98 |
| #F99 | 字元 | - | 建立人員 | 參考#A99 |

### PT#GPF 供應商額度管理檔
| 欄位名稱 | 資料型態 | 欄位長度 | 欄位說明 | 備註 |
|---------|---------|---------|---------|------|
| #G01 | 字元 | - | 公司別 | 參考#B01, 主鍵1 |
| #G02 | 字元 | - | 供應商編號 | 參考#D02, 主鍵2 |
| #G03 | 數值 | - | 未付帳款金額 | 參考#F03 |
| #G04 | 數值 | - | 未付發票金額 | 參考#F03 |
| #G05 | 數值 | - | 已付訂金金額 | 參考#F03 |
| #G06 | 數值 | - | 扣留款項總額 | 參考#F03 |
| #G97 | 時間戳 | - | 建立時間 | 參考#A97 |
| #G98 | 日期 | - | 建立日期 | 參考#A98 |
| #G99 | 字元 | - | 建立人員 | 參考#A99 |

### PT#XPF 參數基本資料檔
| 欄位名稱 | 資料型態 | 欄位長度 | 欄位說明 | 備註 |
|---------|---------|---------|---------|------|
| #X01 | 字元 | 2 | 參數種類 | 主鍵1, 'CK'-支票 |
| #X02 | 字元 | - | 公司別 | 參考#B01, 主鍵2 |
| #X03 | 字元 | 256 | 內容 | 選填 |
| #X97 | 時間戳 | - | 建立時間 | 參考#A97 |
| #X98 | 日期 | - | 建立日期 | 參考#A98 |
| #X99 | 字元 | - | 建立人員 | 參考#A99 |

### PT#YPF 代碼基本資料檔
| 欄位名稱 | 資料型態 | 欄位長度 | 欄位說明 | 備註 |
|---------|---------|---------|---------|------|
| #Y01 | 字元 | 10 | 代碼種類 | 主鍵1 |
| #Y02 | 字元 | 10 | 代碼編號 | 主鍵2 |
| #Y03 | 字元 | 32 | 代碼名稱 | 選填 |
| #Y04 | 字元 | 1 | 操作碼 | 'Y'-可由使用者操作, 其他-僅系統操作 |
| #Y97 | 時間戳 | - | 建立時間 | 參考#A97 |
| #Y98 | 日期 | - | 建立日期 | 參考#A98 |
| #Y99 | 字元 | - | 建立人員 | 參考#A99 |

### PT#ZPF 代碼群組檔案
| 欄位名稱 | 資料型態 | 欄位長度 | 欄位說明 | 備註 |
|---------|---------|---------|---------|------|
| #Z01 | 字元 | - | 代碼種類 | 參考#Y01, 主鍵 |
| #Z02 | 字元 | 22 | 代碼名稱 | 選填 |
| #Z03 | 數值 | 3,0 | 代碼說明 | - |
| #Z04 | 數值 | 3,0 | 群組屬性 | - |
| #Z05 | 字元 | 1 | 操作碼 | 'Y'-可由使用者操作, 其他-僅系統操作 |
| #Z97 | 時間戳 | - | 建立時間 | 參考#A97 |
| #Z98 | 日期 | - | 建立日期 | 參考#A98 |
| #Z99 | 字元 | - | 建立人員 | 參考#A99 |

## 欄位命名規則
- 所有參考欄位均以特定字母開頭（如#A, #B, #C等），對應不同的主題域
- 數字部分01-90表示業務欄位，91-96為保留欄位，97-99為系統共用欄位
- 共用欄位定義：
  - xx97: 建立時間（時間戳）
  - xx98: 建立日期（日期）
  - xx99: 建立人員（建立者ID）

## 參考欄位使用規範
1. **一致性原則**: 在多個檔案中使用相同意義的欄位時，應引用相同的參考欄位
2. **繼承性**: 參考欄位繼承時應保持原欄位特性和驗證規則
3. **擴展規則**: 新增檔案時，應遵循既有命名和參考體系
4. **型態一致**: 相同參考欄位在不同檔案中應保持相同的資料型態

## 系統設計考量
- PTRF是付款系統的基礎參考檔案，確保欄位定義的一致性
- 所有檔案設計遵循層次化結構，以銀行(PT#BPF)和公司別為上層關聯
- 客戶(PT#CPF)和供應商(PT#DPF)檔案具有平行設計結構
- 代碼管理透過群組(PT#ZPF)和代碼(PT#YPF)兩級結構實現靈活管理

## 檔案關聯設計
付款系統中的檔案遵循以下關聯原則：
1. 以公司別(#x01)作為主要關聯鍵，連結不同功能模組的資料
2. 客戶和供應商設計具有鏡像結構，便於交易雙向處理
3. 系統參數和代碼管理採用彈性設計，支援擴展性需求

## 備註
- PTRF做為參考欄位定義檔，不實際存儲資料，僅提供欄位定義參考
- 當多個檔案需共用相同欄位時，後續檔案應參照PTRF中的基礎定義
- 系統擴展時應遵循此參考結構，確保整體資料架構的一致性 