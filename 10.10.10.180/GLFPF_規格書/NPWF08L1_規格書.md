# NPWF08L1 檔案規格書

## 基本資訊
- 檔案名稱: NPWF08L1
- 檔案類型: 邏輯檔案 (LF)
- 來源目錄: QDDSSRC_GLFLIB
- 檔案說明: 認證金額邏輯檔案 (COMMITMENT FILE)

## 紀錄格式
- 紀錄格式名稱: WF08R
- 實體檔案: NPWF08 (認證金額檔)
- 存取路徑: 基於請購單欄位的邏輯檢視

## 主鍵資訊
邏輯檔案採用以下欄位作為主鍵：
1. XUX02 (請購單)

## 欄位繼承
此邏輯檔案繼承NPWF08的所有欄位，包括：

| 欄位名稱 | 資料型態 | 欄位長度 | 欄位說明 | 備註 |
|---------|---------|---------|---------|------|
| XUX02 | 字元 | 8 | 請購單 | 請購單號碼，與NPWF07的WF0702對應 |
| XAH02 | 字元 | 9 | 認證編號 | 認證作業編號，認證編號中含三個小寫字母 |
| AH1213 | 數值 | 13.2 | 認證金額 | 已認證的金額 |
| XAH16 | 字元(溢出) | 50 | 備註 | 認證相關備註說明 |

## NPWF08L1與NPWF08的主鍵差異
值得注意的是，NPWF08L1與其實體檔案NPWF08的主鍵定義有所不同：
- NPWF08L1: 僅使用XUX02 (請購單) 作為主鍵
- NPWF08: 使用XUX02 (請購單) 和XAH02 (認證編號) 作為複合主鍵

這種差異表明：
1. NPWF08L1提供了一種以請購單為中心的檢視，忽略認證編號層級的區分
2. 此邏輯檔案設計用於快速查詢特定請購單的所有認證記錄，而不關注具體的認證編號

## 檔案用途
此邏輯檔案主要用於：
1. 提供基於請購單號碼的快速查詢，檢索特定請購單的所有認證記錄
2. 支援針對特定請購單的總認證金額計算
3. 簡化與NPWF07和NPWF09的整合操作
4. 在不更改物理檔案結構的情況下，提供針對請購單為中心的優化存取方式

## 與整體承諾管理系統的關係
NPWF08L1在A&P系統的承諾管理流程中扮演特定角色：
1. 與NPWF07 (承諾報表檔案)、NPWF09 (請購金額檔) 和NPWF09L1 (請購金額邏輯檔) 共同支援承諾管理
2. 為按請購單彙總認證資訊提供便利，有助於計算請購單的總認證金額
3. 提供與NPWF09L1相同的主鍵結構，便於兩者之間的資料整合和比對

## 相關檔案
- NPWF08: 實體認證金額檔案，此邏輯檔案的基礎
- NPWF07: 承諾報表檔案
- NPWF09: 請購金額檔案
- NPWF09L1: 請購金額邏輯檔案，與NPWF08L1有相似的索引結構

## 備註
- 此邏輯檔案通過僅使用請購單作為主鍵，簡化了對認證金額資訊的存取
- 檔案的單一主鍵結構與NPWF09L1一致，表明它們可能是作為配對的檢視而設計
- 檔案註解中標識為「COMMITMENT FILE」，強調其在承諾管理中的角色
- 與NPWF08物理檔案相比，此邏輯檔案放棄了認證編號層級的細節，提供更高層次的彙總檢視
- 當系統需要查詢某個請購單的所有認證記錄時，使用此邏輯檔案比使用原始物理檔案更有效率 